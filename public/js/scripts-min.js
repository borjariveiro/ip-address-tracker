"use strict";const form=document.querySelector("#searchForm"),input=document.querySelector("#searchInput"),button=document.querySelector("#searchButton"),ip=document.querySelector("#addressIP"),locationZP=document.querySelector("#addressLocation"),addressTimezone=document.querySelector("#addressTimezone"),isp=document.querySelector("#addressISP");async function getIpData(t){const e=`https://geo.ipify.org/api/v1?apiKey=at_w4eNJTImofKjQATDpKSnhvV6wtYMG&ipAddress=${t}`;try{const t=await fetch(e);if(!t.ok)throw new Error(t.status);const o=await t.json();showIpData(o),showMap(o.location.lat,o.location.lng)}catch(t){console.log(t.message)}}function showIpData(t){ip.textContent=t.ip,locationZP.textContent=`${t.location.city}, ${t.location.country} ${t.location.postalCode}`,addressTimezone.textContent=t.location.timezone,isp.textContent=t.isp}function showMap(t,e){var o=L.map("mapid").setView([t,e],13);L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoiYm9yamFyaXZlaXJvIiwiYSI6ImNrc2h2bzk0YzF5NnEzMm8zM203cTJyOTMifQ.5sXm4VzYvQKvEWFhv6fhBg",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,accessToken:"your.mapbox.access.token"}).addTo(o)}form.addEventListener("submit",(t=>{t.preventDefault();getIpData(input.value)}));